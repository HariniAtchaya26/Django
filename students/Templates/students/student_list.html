{% extends 'students/base.html' %}

{% block content %}
<div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold">Student List</h1>
    <button class="bg-blue-600 text-white px-4 py-2 rounded" 
            hx-get="{% url 'student_add' %}" 
            hx-target="#modal-body" 
            hx-trigger="click"
            _="on htmx:afterRequest wait 10ms then add .block to #modal">
        ➕ Add Student
    </button>
</div>

<div id="message-area"></div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="student-list">
    {% include 'students/student_list_partial.html' %}
</div>

<!-- Modal -->
<div id="modal" class="fixed z-50 inset-0 bg-black bg-opacity-50 hidden">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-md mx-auto mt-24 p-4">
        <div id="modal-body"></div>
        <button onclick="document.getElementById('modal').classList.add('hidden')" class="mt-4 bg-red-500 text-white px-4 py-1 rounded">Close</button>
    </div>
</div>

<!-- Side Panel -->
<div id="sidepanel" class="fixed right-0 top-0 w-80 h-full bg-gray-100 shadow-lg p-4 overflow-auto hidden">
    <button onclick="document.getElementById('sidepanel').classList.add('hidden')" class="float-right">❌</button>
    <div id="sidepanel-body"></div>
</div>
{% endblock %}
